<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="13" skipped="5" tests="18" time="18.887" timestamp="2026-02-22T14:17:44.103310+00:00" hostname="agent-env-2561eb1e-2cb8-4df4-b84c-830f86ad6b83"><testcase classname="tests.test_leave_policy_management.TestLeavePolicyBasics" name="test_get_leave_policies_returns_list" time="1.048"><failure message="AssertionError: Failed: {&quot;detail&quot;:&quot;Could not validate credentials&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:38: in test_get_leave_policies_returns_list
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":"Could not validate credentials"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestLeavePolicyBasics" name="test_default_policy_auto_created" time="1.656"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:55: in test_default_policy_auto_created
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestLeavePolicyBasics" name="test_default_policy_has_correct_leave_types" time="1.182"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:68: in test_default_policy_has_correct_leave_types
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestLeavePolicyCRUD" name="test_create_new_policy" time="1.409"><failure message="AssertionError: Failed to create policy: {&quot;detail&quot;:&quot;Could not validate credentials&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:133: in test_create_new_policy
    assert response.status_code == 200, f"Failed to create policy: {response.text}"
E   AssertionError: Failed to create policy: {"detail":"Could not validate credentials"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestLeavePolicyCRUD" name="test_update_policy" time="0.635"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:157: in test_update_policy
    assert create_resp.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestLeavePolicyCRUD" name="test_delete_policy" time="0.636"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:185: in test_delete_policy
    assert create_resp.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestEffectivePolicy" name="test_get_effective_policy_for_employee" time="0.666"><skipped type="pytest.skip" message="No employees found to test">/app/backend/tests/test_leave_policy_management.py:217: No employees found to test</skipped></testcase><testcase classname="tests.test_leave_policy_management.TestEffectivePolicy" name="test_effective_policy_with_invalid_employee" time="0.689"><failure message="AssertionError: Should return 404 for non-existent employee&#10;assert 401 == 404&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:239: in test_effective_policy_with_invalid_employee
    assert response.status_code == 404, "Should return 404 for non-existent employee"
E   AssertionError: Should return 404 for non-existent employee
E   assert 401 == 404
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestLeaveBalanceCalculation" name="test_calculate_leave_balance_for_employee" time="0.682"><skipped type="pytest.skip" message="No employees found to test">/app/backend/tests/test_leave_policy_management.py:265: No employees found to test</skipped></testcase><testcase classname="tests.test_leave_policy_management.TestLeaveBalanceCalculation" name="test_calculate_balance_with_date_param" time="0.772"><skipped type="pytest.skip" message="No employees found">/app/backend/tests/test_leave_policy_management.py:297: No employees found</skipped></testcase><testcase classname="tests.test_leave_policy_management.TestLeaveBalanceCalculation" name="test_balance_invalid_employee" time="0.916"><failure message="assert 401 == 404&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:315: in test_balance_invalid_employee
    assert response.status_code == 404
E   assert 401 == 404
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestPayrollIntegration" name="test_get_leave_encashments" time="2.292"><failure message="AssertionError: Failed: {&quot;detail&quot;:&quot;Could not validate credentials&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:339: in test_get_leave_encashments
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":"Could not validate credentials"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestPayrollIntegration" name="test_get_leave_encashments_with_filters" time="1.259"><failure message="AssertionError: Failed: {&quot;detail&quot;:&quot;Could not validate credentials&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:349: in test_get_leave_encashments_with_filters
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":"Could not validate credentials"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestPayrollIntegration" name="test_get_leave_policy_adjustments" time="0.892"><skipped type="pytest.skip" message="No employees found">/app/backend/tests/test_leave_policy_management.py:357: No employees found</skipped></testcase><testcase classname="tests.test_leave_policy_management.TestPayrollIntegration" name="test_payroll_adjustments_invalid_month_format" time="0.887"><skipped type="pytest.skip" message="No employees found">/app/backend/tests/test_leave_policy_management.py:383: No employees found</skipped></testcase><testcase classname="tests.test_leave_policy_management.TestLeaveEncashmentWorkflow" name="test_encashment_approve_reject_endpoints_exist" time="0.839"><failure message="AssertionError: Approve endpoint should exist, got 401&#10;assert 401 in [404, 400]&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:420: in test_encashment_approve_reject_endpoints_exist
    assert approve_resp.status_code in [404, 400], \
E   AssertionError: Approve endpoint should exist, got 401
E   assert 401 in [404, 400]
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestPolicyScope" name="test_filter_policies_by_scope" time="0.720"><failure message="AssertionError: Failed for scope=company: {&quot;detail&quot;:&quot;Could not validate credentials&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:455: in test_filter_policies_by_scope
    assert response.status_code == 200, f"Failed for scope={scope}: {response.text}"
E   AssertionError: Failed for scope=company: {"detail":"Could not validate credentials"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_policy_management.TestPolicyScope" name="test_filter_policies_by_active_status" time="0.658"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_leave_policy_management.py:469: in test_filter_policies_by_active_status
    assert active_resp.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase></testsuite></testsuites>